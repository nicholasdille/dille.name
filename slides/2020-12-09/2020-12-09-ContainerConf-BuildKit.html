<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8"/>

<title>ContainerConf: Beschleunigen von Container Image Builds mithilfe von BuildKit</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/css/reveal.css"/>
<link rel="stylesheet" href="themes/theme2020.css" id="theme"/>
<link rel="stylesheet" href="themes/common.css" id="theme"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.0.2/styles/rainbow.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css"/>
<script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/css/print/pdf.css' : 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>
</head>

<body>
<div class="reveal">
<div class="slides">

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        <!-- .slide: data-background="images/stones-770264_1920.jpg" class="center" style="color: white; vertical-align: middle; background: rgba(0, 0, 0, 0.5);" -->
        <img src="images/NicholasDille.jpg" /> <!-- .element: style="width: 20%; float: left; border-radius: 8px; margin-left: 1em; margin-right: 1em;" -->

        # Beschleunigen von Container Image Builds mithilfe von BuildKit

        Nicholas Dille, Haufe.Group

        <i class="fab fa-docker" style="width: 1.5em; text-align: center;"></i> Docker Captain &amp; <i class="fab fa-windows" style="width: 1.5em; text-align: center;"></i> Microsoft MVP

        <i class="fab fa-twitter" style="width: 1.5em; text-align: center;"></i> @nicholasdille
    </textarea></section>

    <section data-markdown="000_introduction/02_bio.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="110_ecosystem/buildkit/overview.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Docker 20.10

        [Release Notes](https://docs.docker.com/engine/release-notes/)

        [Container images](https://hub.docker.com/_/docker) not yet available (only RC)

        BuildKit not enabled by default on Linux (only in Docker for Mac/Win)

        Fix ownership (`--chown`) and permissions (`--chmod`) in COPY/ADD

        Build arguments can now have multiple values: `ARG key1=val1 key2=val2`

        BuildKit now offers connection pooling

        Buildx is now GA (more later)
    </textarea></section>

    <section data-markdown="110_ecosystem/buildkit/usage/docker.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>
    <section data-markdown="110_ecosystem/buildkit/usage/dind.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>
    <section data-markdown="110_ecosystem/buildkit/usage/buildkit_containerized.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>
    <section data-markdown="110_ecosystem/buildkit/usage/daemonless_containerized.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Agenda

        <i class="fas fa-tree" style="width: 1.5em; text-align: center;"></i> Rootless

        <i class="fas fa-hourglass-half" style="width: 1.5em; text-align: center;"></i> Build Cache

        <i class="fas fa-folder-open" style="width: 1.5em; text-align: center;"></i> Cache Directories

        <i class="fas fa-key" style="width: 1.5em; text-align: center;"></i> Secrets

        <i class="fas fa-music" style="width: 1.5em; text-align: center;"></i> Compose

        <i class="fas fa-truck-loading" style="width: 1.5em; text-align: center;"></i> Kubernetes
    </textarea></section>

    <section data-markdown="110_ecosystem/buildkit/rootless/overview.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>
    <section data-markdown="110_ecosystem/buildkit/rootless/containerized.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="020_advanced/025_build_cache/buildkit.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="110_ecosystem/buildkit/cache/slides.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="110_ecosystem/buildkit/secrets/slides.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="110_ecosystem/buildkit/compose/slides.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="110_ecosystem/buildkit/k8s/slides.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="020_advanced/140_multi_arch/slides.final.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Summary

        ![QR code with link to slides](images/qr-slides-20201209.svg) <!-- .element: style="width: 25%; float: right;" -->

        BuildKit is superior to the legacy builder

        Can be used standalone

        Supports rootless image building

        Uses remote image as build cache

        Caches directories between builds

        Mounts secrets during builds

        Can run in Kubernetes using load balancing

        Builds images for other platforms
    </textarea></section>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/js/reveal.min.js" type="application/javascript"></script>
<script>
    Reveal.initialize({
        //width: 1920,
        //height: 1080,
        //minScale: 1,
        //maxScale: 1,
        controls: true,
        controlsTutorial: false,
        controlsLayout: 'bottom-right',
        progress: true,
        slideNumber: false,
        hash: true,
        history: true,
        keyboard: true,
        overview: true,
        center: false,
        navigationMode: 'default',
        shuffle: false,
        fragments: true,
        fragmentInURL: true,
        embedded: false,
        help: true,
        showNotes: false,
        autoPlayMedia: null,
        preloadIframes: null,
        defaultTiming: 120,
        totalTime: 30,
        minimumTimePerSlide: 0,
        mouseWheel: false,
        hideInactiveCursor: true,
        hideCursorTime: 3000,
        hideAddressBar: true,
        previewLinks: false,
        transition: 'convex',
        transitionSpeed: 'default',
        backgroundTransition: 'fade',
        viewDistance: 3,
        mobileViewDistance: 2,
        parallaxBackgroundImage: '',
        parallaxBackgroundSize: '',

        allottedTime: 45 * 60 * 1000,
        keyboard: {
            // pause/resume time when Enter is pressed
            13: () => {
                ElapsedTimeBar.isPaused ? ElapsedTimeBar.resume() : ElapsedTimeBar.pause();
            },
            // reset timer when 'r' is pressed
            82: () => {
                ElapsedTimeBar.reset();
            }
        },

        dependencies: [
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/plugin/zoom-js/zoom.js', async: true },
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/plugin/notes/notes.js' },
            { src: 'plugins/elapsed-time-bar-2699fc8/elapsed-time-bar.js'}

        ]
    });
</script>

</body>
</html>
